<!--

    Copyright (c) 2022 TerraFrame, Inc. All rights reserved.

    This file is part of Geoprism Registry(tm).

    Geoprism Registry(tm) is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    Geoprism Registry(tm) is distributed in the hope that it will be useful, but
    WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with Geoprism Registry(tm).  If not, see <http://www.gnu.org/licenses/>.

-->
<!-- HEADER AND NAVBAR -->
<div>
  <div class="row nav-row">
    <div class="col-xs-12">
      <a [href]="context + '#/menu'" class="brand">

        <h3>
          <img class="brand-img" [src]="context + 'api/asset/view?oid=logo'" />
          <localize *ngIf="expanded" key="cgr.standard.title"></localize>
        </h3>
      </a>
    </div>
  </div>

  <div class="row nav-row">
    <div class="col-xs-12">

      <ng-container *ngFor="let section of sections">
        <div class="card card-default section">
          <div class="card-body">
            <h4 class="card-title" *ngIf="expanded">{{section.title}}</h4>

            <ng-container *ngFor="let menu of section.items">
              <div class="row nav-row" *ngIf="shouldShowMenuItem(menu.id)">
                <div class="col-xs-12">
                  <a [routerLink]="menu.link" [ngClass]="{'expanded': expanded}" class="route-item"
                    routerLinkActive="active" [title]="menu.key | localize">
                    <i class="route-icon" [class]="menu.icon"></i>
                    <span class="route-text">
                      <localize *ngIf="expanded" [key]="menu.key"></localize>
                    </span>
                  </a>
                </div>
              </div>
            </ng-container>

          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="!isPublic">
        <div class="card card-default section">
          <div class="card-body">
            <hr>
            <div class="row nav-row" *ngIf="shouldShowMenuItem('SETTINGS')">
              <div class="col-xs-12">
                <a routerLink="/admin/settings" [ngClass]="{'expanded': expanded}" class="route-item"
                  routerLinkActive="active" [title]="'settings.menu' | localize">
                  <i class="route-icon fa-solid fa-gear"></i>
                  <span class="route-text">
                    <localize *ngIf="expanded" key="settings.menu"></localize>
                  </span>
                </a>
              </div>
            </div>

          </div>
        </div>
      </ng-container>


      <div class="row fixed-bottom-row">
        <div class="col-xs-12">
          <a class="user-command-link route-item" (click)="handleToggle()">
            <i class="fa-solid" [ngClass]="{'fa-chevron-left':expanded, 'fa-chevron-right': !expanded}"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>