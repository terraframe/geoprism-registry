<!--

    Copyright (c) 2022 TerraFrame, Inc. All rights reserved.

    This file is part of Geoprism Registry(tm).

    Geoprism Registry(tm) is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    Geoprism Registry(tm) is distributed in the hope that it will be useful, but
    WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with Geoprism Registry(tm).  If not, see <http://www.gnu.org/licenses/>.

-->
<!-- HEADER AND NAVBAR -->
<div>
  <div class="row nav-row">
    <div class="col-xs-12">
      <a [href]="context + '#/menu'" class="brand">

        <h3>
          <img class="brand-img" [src]="context + 'api/asset/view?oid=logo'" />
          <localize *ngIf="expanded" key="cgr.standard.title"></localize>
        </h3>
      </a>
    </div>
  </div>

  <div class="row nav-row">
    <div class="col-xs-12">

      <div class="card card-default section">
        <div class="card-body">
          <h4 class="card-title" *ngIf="expanded">CONFIGURE</h4>

          <div class="row nav-row" *ngIf="shouldShowMenuItem('HIERARCHIES')">
            <div class="col-xs-12">
              <a routerLink="/registry/hierarchies" [ngClass]="{'expanded': expanded}" class="route-item"
                routerLinkActive="active" [title]="'hierarchies.menu' | localize">
                <i class="route-icon fa-solid fa-sitemap"></i>
                <localize *ngIf="expanded" key="hierarchies.menu"></localize>
              </a>
            </div>
          </div>

          <div class="row nav-row" *ngIf="shouldShowMenuItem('CLASSIFICATION')">
            <div class="col-xs-12">
              <a routerLink="/registry/classification-type" [ngClass]="{'expanded': expanded}" class="route-item"
                routerLinkActive="active" [title]="'header.classifications.option' | localize">
                <i class="route-icon fa-solid fa-bars-staggered"></i>
                <localize *ngIf="expanded" key="header.classifications.option"></localize>
              </a>
            </div>
          </div>

          <div class="row nav-row" *ngIf="shouldShowMenuItem('BUSINESS-TYPES') === true">
            <div class="col-xs-12">
              <a routerLink="/registry/business-types" [ngClass]="{'expanded': expanded}" class="route-item"
                routerLinkActive="active" [title]="'business.data.type' | localize">
                <i class="route-icon fa-solid fa-briefcase"></i>
                <localize *ngIf="expanded" key="business.data.type"></localize>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="card card-default section">
        <div class="card-body">
          <h4 class="card-title" *ngIf="expanded">CURATE</h4>

          <div class="row nav-row" *ngIf="shouldShowMenuItem('SCHEDULED-JOBS')">
            <div class="col-xs-12">
              <a routerLink="/registry/scheduled-jobs" [ngClass]="{'expanded': expanded}" class="route-item"
                routerLinkActive="active" [title]="'scheduledjobs.menu' | localize">
                <i class="route-icon fa-solid fa-clock-rotate-left"></i>
                <localize *ngIf="expanded" key="scheduledjobs.menu"></localize>
              </a>
            </div>
          </div>
          <div class="row nav-row" *ngIf="shouldShowMenuItem('CHANGE-REQUESTS')">
            <div class="col-xs-12">
              <a routerLink="/registry/change-requests" [ngClass]="{'expanded': expanded}" class="route-item"
                routerLinkActive="active" [title]="'header.changerequest.option' | localize">
                <i class="route-icon fa-solid fa-arrow-right-arrow-left"></i>
                <localize *ngIf="expanded" key="header.changerequest.option"></localize>
              </a>
            </div>
          </div>
          <div class="row nav-row" *ngIf="shouldShowMenuItem('EVENTS')">
            <div class="col-xs-12">
              <a routerLink="/registry/historical-events" [ngClass]="{'expanded': expanded}" class="route-item"
                routerLinkActive="active" [title]="'historical.events' | localize">
                <i class="route-icon fa-solid fa-calendar-days"></i>
                <localize *ngIf="expanded" key="historical.events"></localize>
              </a>
            </div>
          </div>
          <div class="row nav-row" *ngIf="shouldShowMenuItem('TASKS')">
            <div class="col-xs-12">
              <a routerLink="/registry/tasks" [ngClass]="{'expanded': expanded}" class="route-item"
                routerLinkActive="active" [title]="'header.tasks' | localize">
                <i class="route-icon fa-solid fa-angle-down"></i>
                <localize *ngIf="expanded" key="header.tasks"></localize>
              </a>
            </div>
          </div>

          <div class="row nav-row" *ngIf="shouldShowMenuItem('IMPORT')">
            <div class="col-xs-12">
              <a routerLink="/registry/data" [ngClass]="{'expanded': expanded}" class="route-item"
                routerLinkActive="active" [title]="'header.data.option' | localize">
                <i class="route-icon fa-solid fa-cloud-arrow-up"></i>
                <localize *ngIf="expanded" key="header.data.option"></localize>
              </a>
            </div>
          </div>

          <ng-container *ngIf="shouldShowMenuItem('BUSINESS-TYPES') === true">
            <div class="row nav-row">
              <div class="col-xs-12">
                <a routerLink="/registry/business-importer" [ngClass]="{'expanded': expanded}" class="route-item"
                  routerLinkActive="active" [title]="'business.data.import' | localize">
                  <i class="route-icon fa-solid fa-file-import"></i>
                  <localize *ngIf="expanded" key="business.data.import"></localize>
                </a>
              </div>
            </div>

            <div class="row nav-row">
              <div class="col-xs-12">
                <a routerLink="/registry/edge-importer" [ngClass]="{'expanded': expanded}" class="route-item"
                  routerLinkActive="active" [title]="'edge.data.import' | localize">
                  <i class="route-icon fa-solid fa-file-arrow-up"></i>
                  <localize *ngIf="expanded" key="edge.data.import"></localize>
                </a>
              </div>
            </div>
          </ng-container>

        </div>
      </div>

      <div class="card card-default section">
        <div class="card-body">
          <h4 class="card-title" *ngIf="expanded">EXPLORE</h4>

          <div class="row nav-row" *ngIf="shouldShowMenuItem('NAVIGATOR')">
            <div class="col-xs-12">
              <a routerLink="/registry/location-manager" [ngClass]="{'expanded': expanded}" class="route-item"
                [queryParams]="{pageContext:'EXPLORER'}" routerLinkActive="active"
                [title]="'navigator.menu' | localize">
                <i class="route-icon fa-regular fa-map"></i>
                <localize *ngIf="expanded" key="navigator.menu"></localize>
              </a>
            </div>
          </div>

          <div class="row nav-row" *ngIf="shouldShowMenuItem('LISTS')">
            <div class="col-xs-12">
              <a routerLink="/registry/master-lists" [ngClass]="{'expanded': expanded}" class="route-item"
                routerLinkActive="active" [title]="'masterlist.menu' | localize">
                <i class="route-icon fa-solid fa-table-list"></i>
                <localize *ngIf="expanded" key="masterlist.menu"></localize>
              </a>
            </div>
          </div>

          <div class="row nav-row" *ngIf="shouldShowMenuItem('EXPORT')">
            <div class="col-xs-12">
              <a routerLink="/registry/export" [ngClass]="{'expanded': expanded}" class="route-item"
                routerLinkActive="active" [title]="'header.export' | localize">
                <i class="route-icon fa-solid fa-file-export"></i>
                <localize *ngIf="expanded" key="header.export"></localize>
              </a>
            </div>
          </div>

          <div class="row nav-row" *ngIf="shouldShowMenuItem('LPG')">
            <div class="col-xs-12">
              <a routerLink="/registry/labeled-property-graph-type" [ngClass]="{'expanded': expanded}"
                class="route-item" routerLinkActive="active" [title]="'lpg.menu' | localize">
                <i class="route-icon fa-solid fa-hexagon-nodes"></i>
                <localize *ngIf="expanded" key="lpg.menu"></localize>
              </a>
            </div>
          </div>
        </div>
      </div>

      <ng-container *ngIf="!isPublic">
        <div class="card card-default section">
          <div class="card-body">
            <hr>
            <div class="row nav-row" *ngIf="shouldShowMenuItem('SETTINGS')">
              <div class="col-xs-12">
                <a routerLink="/admin/settings" [ngClass]="{'expanded': expanded}" class="route-item"
                  routerLinkActive="active" [title]="'settings.menu' | localize">
                  <i class="route-icon fa-solid fa-gear"></i>
                  <localize *ngIf="expanded" key="settings.menu"></localize>
                </a>
              </div>
            </div>

            <div class="row nav-row">
              <div class="col-xs-12">
                <a [ngClass]="{'expanded': expanded}" class="route-item" class="route-item"
                  [title]="'userDashboards.logout' | localize" (click)="logout()">
                  <i class="route-icon fa-solid fa-square-up-right"></i>
                  <localize *ngIf="expanded" key="userDashboards.logout"></localize>
                </a>
              </div>
            </div>
          </div>
        </div>
      </ng-container>


      <div class="row fixed-bottom-row">
        <div class="col-xs-12">
          <a class="user-command-link route-item" (click)="handleToggle()">
            <i class="fa-solid" [ngClass]="{'fa-chevron-left':expanded, 'fa-chevron-right': !expanded}"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>